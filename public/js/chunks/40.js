(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{441:function(e,t,a){"use strict";a.r(t);var s=a(12),l=a.n(s),i=a(6),n=a.n(i),r=a(8),o=a.n(r),c=a(9),u=a.n(c),m=a(15),d=a(7),v=Object(d.a)(Object(d.b)("exams/list")),f=a(3),h=a.n(f),p=a(1),x=a.n(p),_=a(4);var b,g,C={methods:{deleteModel:(b=x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("exams/".concat(this.params.data.id));case 2:this.params.api.purgeServerSideCache([]);case 3:case"end":return e.stop()}}),e,this)})),g=function(){var e=this,t=arguments;return new h.a((function(a,s){var l=b.apply(e,t);function i(e,t){try{var i=l[e](t),o=i.value}catch(e){return void s(e)}i.done?a(o):h.a.resolve(o).then(n,r)}function n(e){i("next",e)}function r(e){i("throw",e)}n()}))},function(){return g.apply(this,arguments)})}},w=a(0),$=Object(w.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vs-button",{staticClass:"mr-4",attrs:{to:{name:"results.list",query:{exam_id:e.params.data.id}},color:"primary",type:"filled"}},[e._v("\n        "+e._s(e.$t("general.results"))+"\n    ")]),e._v(" "),a("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:e.deleteModel}},[e._v("\n        "+e._s(e.$t("general.delete"))+"\n    ")])],1)}),[],!1,null,"bbf266fe",null).exports,k={},F=Object(w.a)(k,(function(){var e=this.$createElement;return(this._self._c||e)("router-link",{attrs:{to:{name:"exams.edit",params:{id:this.params.data.id}}}},[this._v(this._s(this.params.data.label))])}),[],!1,null,"fffdec04",null).exports,y=a(13);function N(e,t,a){return t in e?u()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var L={components:{AgTable:m.a,tableActionColumnCell:$,tableNameColumnCell:F},data:function(){return{filters:!1,agFilters:{name:null,level:null},agOptions:{dataSource:v}}},mounted:function(){this.loadLevels()},computed:{agColumns:function(){var e=this;return[{headerName:this.$t("exams.exam_name"),field:"label",minWidth:170,sortable:!0,cellRendererFramework:"tableNameColumnCell"},{headerName:this.$t("exams.exam_level"),field:"level_id",minWidth:170,valueGetter:function(t){if(t.data)return e.$t("levels.level".concat(t.data.level_id||1))}},{headerName:this.$t("exams.q_number"),field:"questions_count",minWidth:170},{headerName:this.$t("exams.success_score"),field:"score",minWidth:170,valueGetter:function(e){if(e.data)return e.data.score/2}},{headerName:this.$t("exams.total_students"),field:"student_exam_count",minWidth:170},{headerName:this.$t("exams.graduation_students"),field:"graduation_students",minWidth:170},{headerName:this.$t("exams.actions"),minWidth:220,cellRendererFramework:"tableActionColumnCell"}]},getLevels:function(){var e=this;return this.$store.getters["Levels/getLevels"].map((function(t){return{id:t.id,name:e.$t("levels.".concat(t.name))}}))}},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=o()(a);"function"==typeof n.a&&(s=s.concat(n()(a).filter((function(e){return l()(a,e).enumerable})))),s.forEach((function(t){N(e,t,a[t])}))}return e}({},Object(y.b)({loadLevels:"Levels/loadLevels"}),{showFilters:function(){this.filters=!this.filters},applyFilters:function(){this.$refs.allExamsTable.applyFilters()}})},O=Object(w.a)(L,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"router-header flex flex-wrap items-center mb-6"},[a("div",{staticClass:"content-area__heading"},[a("h2",{staticClass:"mb-1"},[e._v(e._s(e.$t("exams.title")))])]),e._v(" "),a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:e.$t("exams.create_exam_tooltip")}},[a("vs-button",{attrs:{size:"large",icon:"icon-settings","icon-pack":"feather",to:{name:"exams.create"}}})],1)],1),e._v(" "),a("vx-card",{attrs:{title:e.$t("exams.all_exams")}},[a("template",{slot:"actions"},[a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:e.$t("exams.filter_tooltip")}},[a("vs-button",{attrs:{icon:"icon-settings","icon-pack":"feather"},on:{click:e.showFilters}})],1)],1),e._v(" "),e.filters?a("div",{staticClass:"mb-5"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[a("div",{staticClass:"vx-col w-full"},[a("span",[e._v(e._s(e.$t("exams.filter.name")))])]),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input",{staticClass:"w-full",model:{value:e.agFilters.name,callback:function(t){e.$set(e.agFilters,"name",t)},expression:"agFilters.name"}})],1)]),e._v(" "),a("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[a("div",{staticClass:"vx-col w-full"},[a("span",[e._v(e._s(e.$t("exams.filter.level")))])]),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("v-select",{staticClass:"w-full",attrs:{label:"name",reduce:function(e){return e.id},options:e.getLevels},model:{value:e.agFilters.level,callback:function(t){e.$set(e.agFilters,"level",t)},expression:"agFilters.level"}})],1)]),e._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("vs-button",{staticClass:"mr-3 mt-5",on:{click:e.applyFilters}},[e._v(e._s(e.$t("exams.filter.title")))])],1)])]):e._e(),e._v(" "),a("ag-table",{ref:"allExamsTable",attrs:{filters:e.agFilters,columns:e.agColumns,options:e.agOptions}})],2)],1)}),[],!1,null,"73eeaa2a",null);t.default=O.exports}}]);