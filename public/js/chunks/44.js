(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{491:function(e,t,a){"use strict";a.r(t);var s=a(13),l=a.n(s),n=a(6),i=a.n(n),r=a(10),o=a.n(r),c=a(11),u=a.n(c),d=a(15),m=a(9),v=Object(m.a)(Object(m.b)("exams/list")),f=a(2),h=a.n(f),p=a(0),x=a.n(p),_=a(4);function b(e){return function(){var t=this,a=arguments;return new h.a((function(s,l){var n=e.apply(t,a);function i(e,t){try{var a=n[e](t),i=a.value}catch(e){return void l(e)}a.done?s(i):h.a.resolve(i).then(r,o)}function r(e){i("next",e)}function o(e){i("throw",e)}r()}))}}var g,w,C={methods:{deleteModel:(w=b(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.confirm(this.$t("general.delete.title"),this.$t("general.delete.message"),this.delete);case 1:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)}),delete:(g=b(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("exams/".concat(this.params.data.id));case 2:this.params.api.purgeServerSideCache([]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})}},$=a(1),k=Object($.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vs-button",{staticClass:"mr-4",attrs:{to:{name:"results.list",query:{exam_id:e.params.data.id}},color:"primary",type:"filled"}},[e._v("\n        "+e._s(e.$t("general.results"))+"\n    ")]),e._v(" "),a("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:e.deleteModel}},[e._v("\n        "+e._s(e.$t("general.delete.button"))+"\n    ")])],1)}),[],!1,null,"8e7d4eec",null).exports,F={},y=Object($.a)(F,(function(){var e=this.$createElement;return(this._self._c||e)("router-link",{attrs:{to:{name:"exams.edit",params:{id:this.params.data.id}}}},[this._v(this._s(this.params.data.label))])}),[],!1,null,"fffdec04",null).exports,N=a(12);function L(e,t,a){return t in e?u()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O={components:{AgTable:d.a,tableActionColumnCell:k,tableNameColumnCell:y},data:function(){return{filters:!1,agFilters:{name:null,level:null},agOptions:{dataSource:v}}},mounted:function(){this.loadLevels()},computed:{agColumns:function(){var e=this;return[{headerName:this.$t("exams.exam_name"),field:"label",minWidth:170,sortable:!0,cellRendererFramework:"tableNameColumnCell"},{headerName:this.$t("exams.exam_level"),field:"level_id",minWidth:170,sortable:!0,valueGetter:function(t){if(t.data)return e.$t("levels.level".concat(t.data.level_id||1))}},{headerName:this.$t("exams.q_number"),field:"questions_count",minWidth:170,sortable:!0},{headerName:this.$t("exams.success_score"),field:"score",minWidth:170,sortable:!0,valueGetter:function(e){if(e.data)return e.data.score/2}},{headerName:this.$t("exams.total_students"),field:"student_exam_count",minWidth:170,sortable:!0},{headerName:this.$t("exams.graduation_students"),field:"graduation_students",minWidth:170,sortable:!0},{headerName:this.$t("exams.actions"),minWidth:220,cellRendererFramework:"tableActionColumnCell"}]},getLevels:function(){var e=this;return this.$store.getters["Levels/getLevels"].map((function(t){return{id:t.id,name:e.$t("levels.".concat(t.name))}}))}},methods:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=o()(a);"function"==typeof i.a&&(s=s.concat(i()(a).filter((function(e){return l()(a,e).enumerable})))),s.forEach((function(t){L(e,t,a[t])}))}return e}({},Object(N.b)({loadLevels:"Levels/loadLevels"}),{showFilters:function(){this.filters=!this.filters},applyFilters:function(){this.$refs.allExamsTable.applyFilters()}})},W=Object($.a)(O,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"router-header flex flex-wrap items-center mb-6"},[a("div",{staticClass:"content-area__heading"},[a("h2",{staticClass:"mb-1"},[e._v(e._s(e.$t("exams.title")))])]),e._v(" "),a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:e.$t("exams.create_exam_tooltip")}},[a("vs-button",{attrs:{size:"large",icon:"icon-edit","icon-pack":"feather",to:{name:"exams.create"}}})],1)],1),e._v(" "),a("vx-card",{attrs:{title:e.$t("exams.all_exams")}},[a("template",{slot:"actions"},[a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:e.$t("exams.filter_tooltip")}},[a("vs-button",{attrs:{icon:"icon-filter","icon-pack":"feather"},on:{click:e.showFilters}})],1)],1),e._v(" "),e.filters?a("div",{staticClass:"mb-5"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[a("div",{staticClass:"vx-col w-full"},[a("span",[e._v(e._s(e.$t("exams.filter.name")))])]),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input",{staticClass:"w-full",model:{value:e.agFilters.name,callback:function(t){e.$set(e.agFilters,"name",t)},expression:"agFilters.name"}})],1)]),e._v(" "),a("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[a("div",{staticClass:"vx-col w-full"},[a("span",[e._v(e._s(e.$t("exams.filter.level")))])]),e._v(" "),a("div",{staticClass:"vx-col w-full"},[a("v-select",{staticClass:"w-full",attrs:{label:"name",reduce:function(e){return e.id},options:e.getLevels},model:{value:e.agFilters.level,callback:function(t){e.$set(e.agFilters,"level",t)},expression:"agFilters.level"}})],1)]),e._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("vs-button",{staticClass:"mr-3 mt-5",on:{click:e.applyFilters}},[e._v(e._s(e.$t("exams.filter.title")))])],1)])]):e._e(),e._v(" "),a("ag-table",{ref:"allExamsTable",attrs:{filters:e.agFilters,columns:e.agColumns,options:e.agOptions}})],2)],1)}),[],!1,null,"f1dd03c8",null);t.default=W.exports}}]);