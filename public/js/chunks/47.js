(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{443:function(t,e,s){"use strict";s.r(e);var a=s(12),l=s.n(a),n=s(6),i=s.n(n),r=s(8),o=s.n(r),c=s(9),u=s.n(c),d=s(15),v=s(7),m=Object(v.a)(Object(v.b)("students/list")),f=s(3),h=s.n(f),p=s(1),_=s.n(p),b=s(4);var g,w,C={methods:{deleteModel:(g=_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("students/".concat(this.params.data.id));case 2:this.params.api.purgeServerSideCache([]);case 3:case"end":return t.stop()}}),t,this)})),w=function(){var t=this,e=arguments;return new h.a((function(s,a){var l=g.apply(t,e);function n(t,e){try{var n=l[t](e),o=n.value}catch(t){return void a(t)}n.done?s(o):h.a.resolve(o).then(i,r)}function i(t){n("next",t)}function r(t){n("throw",t)}i()}))},function(){return w.apply(this,arguments)})}},$=s(0),x=Object($.a)(C,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-button",{staticClass:"mr-4",attrs:{to:{name:"students.edit",params:{id:t.params.data.id}},color:"primary",type:"filled"}},[t._v("\n        "+t._s(t.$t("general.edit"))+"\n    ")]),t._v(" "),s("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:t.deleteModel}},[t._v("\n        "+t._s(t.$t("general.delete"))+"\n    ")])],1)}),[],!1,null,"250c855b",null).exports,F={},k=Object($.a)(F,(function(){var t=this.$createElement;return(this._self._c||t)("router-link",{attrs:{to:{name:"students.show",params:{id:this.params.data.id}}}},[this._v(this._s(this.params.data.name))])}),[],!1,null,"7f4aa15e",null).exports,y=s(13);function N(t,e,s){return e in t?u()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var L={components:{AgTable:d.a,tableActionColumnCell:x,tableNameColumnCell:k},data:function(){return{filters:!1,agFilters:{search:null,level:null,status:null},agOptions:{dataSource:m}}},mounted:function(){this.loadLevels()},computed:{agColumns:function(){var t=this;return[{headerName:this.$t("students.list.column_name"),field:"name",minWidth:170,sortable:!0,cellRendererFramework:"tableNameColumnCell"},{headerName:this.$t("students.list.column_email"),field:"email",minWidth:170,sortable:!0},{headerName:this.$t("students.list.column_nationality"),field:"nationality",minWidth:170,sortable:!0},{headerName:this.$t("students.list.column_level"),field:"level_id",minWidth:170,sortable:!0,valueGetter:function(e){if(e.data)return t.$t("levels.level".concat(e.data.level_id||1))}},{headerName:this.$t("students.list.column_status"),minWidth:170,valueGetter:function(e){if(e.data)return t.$t("status.".concat(e.data.status||1))}},{headerName:this.$t("students.list.column_actions"),minWidth:230,cellRendererParams:{routeName:"students.edit"},cellRendererFramework:"tableActionColumnCell"}]},getLevels:function(){var t=this;return this.$store.getters["Levels/getLevels"].map((function(e){return{id:e.id,name:t.$t("levels.".concat(e.name))}}))},getStatus:function(){var t=this;return[1,2,3].map((function(e){return{id:e,name:t.$t("status.".concat(e))}}))}},methods:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=o()(s);"function"==typeof i.a&&(a=a.concat(i()(s).filter((function(t){return l()(s,t).enumerable})))),a.forEach((function(e){N(t,e,s[e])}))}return t}({},Object(y.b)({loadLevels:"Levels/loadLevels"}),{showFilters:function(){this.filters=!this.filters},applyFilters:function(){this.$refs.allStudentsTable.applyFilters()}})},O=Object($.a)(L,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"router-header flex flex-wrap items-center mb-6"},[s("div",{staticClass:"content-area__heading"},[s("h2",{staticClass:"mb-1"},[t._v(t._s(t.$t("students.title")))])]),t._v(" "),s("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:t.$t("students.create_student_tooltip")}},[s("vs-button",{attrs:{size:"large",icon:"icon-settings","icon-pack":"feather",to:{name:"students.create"}}})],1)],1),t._v(" "),s("vx-card",{attrs:{title:t.$t("students.all_students")}},[s("template",{slot:"actions"},[s("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:t.$t("students.filter.tooltip")}},[s("vs-button",{attrs:{icon:"icon-settings","icon-pack":"feather"},on:{click:t.showFilters}})],1)],1),t._v(" "),t.filters?s("div",{staticClass:"mb-5"},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[s("div",{staticClass:"vx-col w-full"},[s("span",[t._v(t._s(t.$t("students.filter.name_email")))])]),t._v(" "),s("div",{staticClass:"vx-col w-full"},[s("vs-input",{staticClass:"w-full",model:{value:t.agFilters.search,callback:function(e){t.$set(t.agFilters,"search",e)},expression:"agFilters.search"}})],1)]),t._v(" "),s("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[s("div",{staticClass:"vx-col w-full"},[s("span",[t._v(t._s(t.$t("students.filter.level")))])]),t._v(" "),s("div",{staticClass:"vx-col w-full"},[s("v-select",{staticClass:"w-full",attrs:{label:"name",reduce:function(t){return t.id},options:t.getLevels},model:{value:t.agFilters.level,callback:function(e){t.$set(t.agFilters,"level",e)},expression:"agFilters.level"}})],1)]),t._v(" "),s("div",{staticClass:"vx-col w-full md:w-1/3 mb-5"},[s("div",{staticClass:"vx-col w-full"},[s("span",[t._v(t._s(t.$t("students.filter.status")))])]),t._v(" "),s("div",{staticClass:"vx-col w-full"},[s("v-select",{staticClass:"w-full",attrs:{label:"name",options:t.getStatus},model:{value:t.agFilters.status,callback:function(e){t.$set(t.agFilters,"status",e)},expression:"agFilters.status"}})],1)]),t._v(" "),s("div",{staticClass:"vx-col w-full"},[s("vs-button",{staticClass:"mr-3 mt-5",on:{click:t.applyFilters}},[t._v(t._s(t.$t("students.filter.title")))])],1)])]):t._e(),t._v(" "),s("ag-table",{ref:"allStudentsTable",attrs:{filters:t.agFilters,columns:t.agColumns,options:t.agOptions}})],2)],1)}),[],!1,null,"54d459d0",null);e.default=O.exports}}]);