(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{103:function(t,n,e){t.exports=e(181)},104:function(t,n,e){t.exports=e(184)},181:function(t,n,e){e(59),e(182),t.exports=e(17).Array.from},182:function(t,n,e){"use strict";var i=e(66),o=e(23),a=e(65),s=e(205),r=e(206),c=e(108),l=e(183),u=e(99);o(o.S+o.F*!e(207)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,o,f,p=a(t),v="function"==typeof this?this:Array,h=arguments.length,d=h>1?arguments[1]:void 0,g=void 0!==d,y=0,m=u(p);if(g&&(d=i(d,h>2?arguments[2]:void 0,2)),null==m||v==Array&&r(m))for(e=new v(n=c(p.length));n>y;y++)l(e,y,g?d(p[y],y):p[y]);else for(f=m.call(p),e=new v;!(o=f.next()).done;y++)l(e,y,g?s(f,d,[o.value,y],!0):o.value);return e.length=y,e}})},183:function(t,n,e){"use strict";var i=e(30),o=e(54);t.exports=function(t,n,e){n in t?i.f(t,n,o(0,e)):t[n]=e}},184:function(t,n,e){e(98),e(59),t.exports=e(185)},185:function(t,n,e){var i=e(109),o=e(26)("iterator"),a=e(60);t.exports=e(17).isIterable=function(t){var n=Object(t);return void 0!==n[o]||"@@iterator"in n||a.hasOwnProperty(i(n))}},186:function(t,n,e){"use strict";e(92)},187:function(t,n,e){(t.exports=e(7)(!1)).push([t.i,".notifications-page[data-v-7fcf0ca1] .vs-textarea{height:200px}",""])},436:function(t,n,e){"use strict";e.r(n);var i=e(103),o=e.n(i),a=e(104),s=e.n(a),r=e(3),c=e.n(r),l=e(2),u=e.n(l),f=e(4);function p(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t){return function(){var n=this,e=arguments;return new c.a((function(i,o){var a=t.apply(n,e);function s(t,n){try{var e=a[t](n),s=e.value}catch(t){return void o(t)}e.done?i(s):c.a.resolve(s).then(r,l)}function r(t){s("next",t)}function l(t){s("throw",t)}r()}))}}var h,d,g={mixins:[{methods:{successMessage:function(t){var n=t.title,e=t.message;this.$vs.dialog({color:"success",title:n,text:e,type:"alert"})},failMessage:function(t){var n=t.title,e=t.message;this.$vs.dialog({color:"danger",title:n,text:e,type:"alert"})}}}],data:function(){return{activePopup:!1,emailContent:"",categoryOption:null,categoryContentOption:null,categoryContentOptions:[],type:"notification"}},computed:{pageTitle:function(){return this.$t("notifications.title")},categoryOptions:function(){var t=[];return this.$hasRole("admin")&&t.push({id:"teachers",title:this.$t("notifications.teachers")}),t.concat([{id:"levels",title:this.$t("notifications.levels")},{id:"students",title:this.$t("notifications.students")}])}},watch:{categoryOption:function(t){this.getCategoryContent(t),this.categoryContentOption=null}},mounted:function(){this.getCategoryContent({id:"teachers"})},methods:{getCategoryContent:(d=v(u.a.mark((function t(n){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f.a.get("".concat(n.id));case 4:e=t.sent,this.categoryContentOptions=[{id:-1,name:this.$t("notifications.all")}].concat(p(e.data.data));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)}),sendEmail:(h=v(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$vs.loading(),t.prev=1,t.next=4,f.a.post("notifications/email",{content:this.emailContent,group:this.categoryOption.id,member:this.categoryContentOption.id,type:this.type});case 4:this.$vs.loading.close(),this.successMessage({title:this.$t("notifications.success_title"),message:this.$t("notifications.success_message")}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),this.$vs.loading.close(),this.failMessage({title:this.$t("notifications.failed_title"),message:this.$t("notifications.failed_message")});case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return h.apply(this,arguments)})}},y=(e(186),e(0)),m=Object(y.a)(g,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("vx-card",{staticClass:"notifications-page",attrs:{title:t.pageTitle}},[e("div",{staticClass:"inline-block w-full mr-6 lg:w-1/3"},[e("h6",[t._v(t._s(t.$t("notifications.select_category")))]),t._v(" "),e("v-select",{attrs:{label:"title",options:t.categoryOptions},model:{value:t.categoryOption,callback:function(n){t.categoryOption=n},expression:"categoryOption"}})],1),t._v(" "),e("div",{staticClass:"inline-block w-full lg:w-1/3"},[e("h6",[t._v(t._s(t.$t("notifications.select_one")))]),t._v(" "),e("v-select",{attrs:{label:"name",options:t.categoryContentOptions},model:{value:t.categoryContentOption,callback:function(n){t.categoryContentOption=n},expression:"categoryContentOption"}})],1),t._v(" "),e("div",{staticClass:"inline-block w-full lg:w-1/3"},[e("h6",[t._v(t._s(t.$t("notifications.type_title")))]),t._v(" "),e("div",{staticClass:"mt-4"},[e("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"notification"},model:{value:t.type,callback:function(n){t.type=n},expression:"type"}},[t._v("\n                    "+t._s(t.$t("notifications.type_notification"))+"\n                ")]),t._v(" "),e("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"email"},model:{value:t.type,callback:function(n){t.type=n},expression:"type"}},[t._v("\n                    "+t._s(t.$t("notifications.type_email"))+"\n                ")])],1)]),t._v(" "),e("div",{staticClass:"w-full mt-6"},[e("h6",[t._v(t._s(t.$t("notifications.email_content")))]),t._v(" "),e("vs-textarea",{model:{value:t.emailContent,callback:function(n){t.emailContent=n},expression:"emailContent"}})],1),t._v(" "),e("vs-button",{staticClass:"mr-4",on:{click:t.sendEmail}},[t._v(t._s(t.$t("notifications.send")))])],1)],1)}),[],!1,null,"7fcf0ca1",null);n.default=m.exports},92:function(t,n,e){var i=e(187);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(8)(i,o);i.locals&&(t.exports=i.locals)}}]);