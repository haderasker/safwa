(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{454:function(t,e,a){"use strict";a.r(e);var s=a(14),r=a(7),n=Object(r.a)(Object(r.b)("teachers/list")),i=a(2),l=a.n(i),c=a(0),o=a.n(c),u=a(4);function d(t){return function(){var e=this,a=arguments;return new l.a((function(s,r){var n=t.apply(e,a);function i(t,e){try{var a=n[t](e),i=a.value}catch(t){return void r(t)}a.done?s(i):l.a.resolve(i).then(c,o)}function c(t){i("next",t)}function o(t){i("throw",t)}c()}))}}var h,m,p={methods:{deleteModel:(m=d(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.delete("teachers/".concat(this.params.data.id));case 2:this.params.api.purgeServerSideCache([]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),blockModel:(h=d(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("teachers/block/".concat(this.params.data.id));case 2:this.params.api.purgeServerSideCache([]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})}},v=a(1),f=Object(v.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vs-button",{staticClass:"mr-4",attrs:{to:{name:"teachers.edit",params:{id:t.params.data.id}},color:"primary",type:"filled"}},[t._v("\n        "+t._s(t.$t("general.edit"))+"\n    ")]),t._v(" "),a("vs-button",{attrs:{color:1===t.params.data.status?"warning":"success",type:"filled"},on:{click:t.blockModel}},[t._v("\n        "+t._s(1===t.params.data.status?t.$t("general.block"):t.$t("general.active"))+"\n    ")]),t._v(" "),a("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:t.deleteModel}},[t._v("\n        "+t._s(t.$t("general.delete"))+"\n    ")])],1)}),[],!1,null,"8e267f84",null).exports,_={},b=Object(v.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.params.data.teacher_courses_count>0?e("router-link",{attrs:{to:{name:"courses.list",query:{teacher_id:this.params.data.id}}}},[this._v("\n            "+this._s(this.params.data.teacher_courses_count)+"\n        ")]):e("span",[this._v("\n            0\n        ")])],1)}),[],!1,null,"b1a8e130",null).exports,C={components:{AgTable:s.a,tableActionColumnCell:f,tableCoursesCountColumnCell:b},data:function(){return{filters:!1,agFilters:{name:""},agOptions:{dataSource:n}}},computed:{agColumns:function(){var t=this;return[{headerName:this.$t("teachers.list.column_name"),field:"name",minWidth:170,sortable:!0},{headerName:this.$t("teachers.list.column_add_lessons"),minWidth:170,sortable:!0,valueGetter:function(e){if(e.data)return 1===e.data.upload_lessons?t.$t("teachers.allow_add_lesson"):t.$t("teachers.disallow_add_lesson")}},{headerName:this.$t("teachers.list.column_courses_number"),field:"teacher_courses_count",minWidth:170,cellRendererFramework:"tableCoursesCountColumnCell"},{headerName:this.$t("teachers.list.column_created_at"),field:"created_at",minWidth:170,sortable:!0,valueGetter:function(e){if(e.data)return"".concat(t.$moment(e.data.created_at).format("D-M-YYYY")," / ").concat(t.$moment(e.data.created_at).format("iD-iM-iYYYY"))}},{headerName:this.$t("teachers.list.column_actions"),minWidth:300,sortable:!1,cellRendererFramework:"tableActionColumnCell"}]}},methods:{showFilters:function(){this.filters=!this.filters},applyFilters:function(){this.$refs.allTeachersTable.applyFilters()}}},g=Object(v.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"router-header flex flex-wrap items-center mb-6"},[a("div",{staticClass:"content-area__heading"},[a("h2",{staticClass:"mb-1"},[t._v(t._s(t.$t("teachers.title")))])]),t._v(" "),a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:t.$t("teachers.create_teacher_tooltip")}},[a("vs-button",{attrs:{size:"large",icon:"icon-settings","icon-pack":"feather",to:{name:"teachers.create"}}})],1)],1),t._v(" "),a("vx-card",{attrs:{title:t.$t("teachers.all_teachers")}},[a("template",{slot:"actions"},[a("vx-tooltip",{staticClass:"ml-auto md:block hidden cursor-pointer",attrs:{position:"right",text:t.$t("teachers.filter.tooltip")}},[a("vs-button",{attrs:{icon:"icon-settings","icon-pack":"feather"},on:{click:t.showFilters}})],1)],1),t._v(" "),t.filters?a("div",{staticClass:"mb-5"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":t.$t("teachers.filter.name")},model:{value:t.agFilters.name,callback:function(e){t.$set(t.agFilters,"name",e)},expression:"agFilters.name"}})],1),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("vs-button",{staticClass:"mr-3 mt-5",on:{click:t.applyFilters}},[t._v(t._s(t.$t("teachers.filter.title")))])],1)])]):t._e(),t._v(" "),a("ag-table",{ref:"allTeachersTable",attrs:{filters:t.agFilters,columns:t.agColumns,options:t.agOptions}})],2)],1)}),[],!1,null,"ab92552e",null);e.default=g.exports}}]);